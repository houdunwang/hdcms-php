import{r as b,_ as y}from"./table.73947efa.js";import{f as h,r as n}from"./index.18d78123.js";import{u as x}from"./useRole.7f901edb.js";import{_ as B}from"./tab.vue_vue_type_script_setup_true_lang.906c5d6d.js";import{k as C,bl as F,o as k,c as w,b as a,u as r,R as E}from"./@vue.93d749de.js";import"./element-plus.c3fec1c4.js";import"./dayjs.192a6d29.js";import"./@kangc.828c9793.js";import"./vue.2f2618c0.js";import"./@vueuse.3a1db1c8.js";import"./@element-plus.4cdb3580.js";import"./lodash-es.dd6a6848.js";import"./async-validator.6019f6c6.js";import"./@sxzz.69bffcbd.js";import"./escape-html.ee221422.js";import"./normalize-wheel-es.25faf228.js";import"./@ctrl.46158b0f.js";import"./vue-router.9aaff3ab.js";import"./@icon-park.b1f4f028.js";import"./pinia.6fe13256.js";import"./vue-demi.f95da513.js";import"./axios.44703c6e.js";/* empty css                    */import"./prismjs.5c7695b9.js";import"./vee-validate.f34e48f3.js";import"./@vee-validate.51eabfa0.js";import"./yup.b2caa524.js";import"./nanoclone.76ad5e25.js";import"./lodash.393e310d.js";import"./property-expr.8748984a.js";import"./toposort.a92fde4e.js";import"./tab.2f0b0894.js";import"./_plugin-vue_export-helper.cdc0426e.js";const st=C({__name:"index",async setup(S){let e,m;const{site:i,currentSite:u}=h(),{del:l,roles:c,load:s}=x();[e,m]=F(()=>Promise.all([s(),u()])),await e,m();const d=[{title:"\u7F16\u8F91",type:"success",permission:"role-edit",action:o=>{var t;return n.push({name:"role.edit",query:{sid:(t=i.value)==null?void 0:t.id,id:o.id}})}},{title:"\u5220\u9664",type:"danger",permission:"role-del",action:o=>l(o)},{title:"\u6743\u9650\u8BBE\u7F6E",type:"primary",action:o=>{var t;return n.push({name:"site.role.permission",query:{sid:(t=i.value)==null?void 0:t.id,id:o.id}})}}];return(o,t)=>{var p;const _=y;return k(),w(E,null,[a(B,{site:r(i)},null,8,["site"]),a(_,{data:(p=r(c))==null?void 0:p.data,columns:r(b),"button-width":210,buttons:r(d),onSearch:t[0]||(t[0]=f=>r(s)(1,f))},null,8,["data","columns","buttons"])],64)}}});export{st as default};

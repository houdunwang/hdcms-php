import{h as a,r as o}from"./index.79763af7.js";import{y as c}from"./element-plus.da21f900.js";import{d as i}from"./@vue.ac3c99c7.js";function m(r,e=1,t={}){return a.request({url:`/site/${r}/role?page=${e}&`+Object.entries(t).map(n=>n.join("=")).join("&"),method:"get"})}function f(r,e){return a.request({url:`site/${r}/role`,method:"POST",data:e})}function p(r,e){return a.request({url:`site/${r}/role/${e}`,method:"DELETE"})}function y(r,e){return a.request({url:`site/${r}/role/${e.id}`,method:"PUT",data:e})}function d(r,e){return a.request({url:`site/${r}/role/${e}`}).then(t=>t.data)}var x=()=>{const r=i(),e=i(),t=o.currentRoute.value.query.sid,n=o.currentRoute.value.query.id,s=async(u=1,l={})=>{r.value=await m(t,u,l)};return{sid:t,id:n,roles:r,role:e,del:async u=>{await c.confirm("\u786E\u8BA4\u5220\u9664\u89D2\u8272\u5417\uFF1F"),await p(t,u.id),s()},load:s,add:async u=>{await f(t,u),o.push({name:"role.index",query:{sid:t}})},update:async()=>{await y(t,e.value),o.push({name:"role.index",query:{sid:t}})},find:async u=>{e.value=await d(t,u)},current:async()=>{e.value=await d(t,n)}}};export{x as u};

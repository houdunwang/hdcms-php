import{h as S}from"./element-plus.3904763a.js";import{g as F}from"./index.c29e1f0e.js";import{u as I,_ as R}from"./tab.869f8e6b.js";import{u as V}from"./useRole.7ee30a63.js";import{C as $,bl as N,e as z,o,c as r,b as l,u as t,Q as u,a as d,ad as P,I as j,a5 as H,O as c,P as L,H as B,b4 as M,b3 as O}from"./@vue.d2db270f.js";import{_ as Q}from"./plugin-vue_export-helper.21dcd24c.js";import"./dayjs.65d36044.js";import"./@kangc.7a169bfb.js";import"./vue.49864943.js";import"./@vueuse.d99af6d0.js";import"./@element-plus.8bdeac16.js";import"./lodash-es.e24100a0.js";import"./async-validator.6019f6c6.js";import"./@sxzz.69bffcbd.js";import"./escape-html.d3a2e952.js";import"./normalize-wheel-es.25faf228.js";import"./@ctrl.46158b0f.js";import"./vue-router.cefc97b8.js";import"./@icon-park.3c7e9ece.js";import"./pinia.16fb2893.js";import"./vue-demi.fd44cc08.js";import"./axios.af22a90f.js";import"./lodash.4b59e61b.js";import"./prismjs.e66d8193.js";import"./vee-validate.0e4c74ff.js";import"./@vee-validate.898c8da1.js";import"./yup.905b9289.js";import"./nanoclone.5d6f781b.js";import"./property-expr.8748984a.js";import"./toposort.bf2a2d8a.js";/* empty css                    */import"./tab.a2965159.js";const T=s=>(M("data-v-a44407a4"),s=s(),O(),s),U={class:"m-2 text-gray-700 text-sm inline-flex items-center"},q=["value"],G=c(" \u4FDD\u5B58\u63D0\u4EA4 "),J={key:1,class:"flex flex-col justify-center items-center text-sm font-bold text-gray-600 !py-5"},K=T(()=>d("span",{class:"mb-2"},"\u7AD9\u70B9\u8FD8\u6CA1\u6709\u8BBE\u7F6E\u89D2\u8272",-1)),W=c(" \u8BBE\u7F6E\u89D2\u8272 "),X=$({__name:"role",async setup(s){var v,b;let _,f;const{site:k,sid:D,currentSite:w}=F(),{admin:m,setRole:C,current:E}=I(),{roles:y,load:A}=V();[_,f]=N(()=>Promise.all([w(),E(),A()])),await _,f();const n=z((b=(v=m.value)==null?void 0:v.roles.map(p=>p.id))!=null?b:[]);return(p,e)=>{var g,h;const x=S;return o(),r(u,null,[l(R,{site:t(k),admin:t(m)},null,8,["site","admin"]),(g=t(y))!=null&&g.meta.total?(o(),r(u,{key:0},[d("section",null,[(o(!0),r(u,null,P((h=t(y))==null?void 0:h.data,a=>(o(),r("label",U,[j(d("input",{type:"checkbox",class:"mr-1","onUpdate:modelValue":e[0]||(e[0]=i=>n.value=i),value:a.id},null,8,q),[[H,n.value]]),c(" "+L(a.name),1)]))),256))]),l(x,{type:"primary",size:"default",onClick:e[1]||(e[1]=a=>{var i;return t(C)((i=t(m))==null?void 0:i.id,n.value)})},{default:B(()=>[G]),_:1})],64)):(o(),r("section",J,[K,l(x,{type:"primary",size:"default",onClick:e[2]||(e[2]=a=>p.$router.push({name:"role.index",params:{sid:t(D)}}))},{default:B(()=>[W]),_:1})]))],64)}}});var Ft=Q(X,[["__scopeId","data-v-a44407a4"]]);export{Ft as default};

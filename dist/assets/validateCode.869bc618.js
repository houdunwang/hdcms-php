import{_ as y}from"./error.0b39c18d.js";import{h as E}from"./element-plus.da21f900.js";import{b as B,c as x,d as b,_ as k}from"./footer.524f13eb.js";import{s as c}from"./index.41ce40d6.js";import{a as l}from"./dayjs.0c888375.js";import{C as w,d as T,z as g,ah as h,o as n,c as r,a as F,I,b as d,H as D,P as V,u as U}from"./@vue.ac3c99c7.js";var N=()=>({sendTime:()=>{const e=c.get("codeSendTime");return e?60-l().diff(e,"second"):-1},sendCode:async(e,s="any")=>{switch(s){case"exist":await b(e);break;case"notExist":await x(e);break;default:await B(e)}c.set("codeSendTime",l())}});const S={class:""},j={class:"flex justify-between items-center"},z={key:0},A={key:1},M=w({__name:"validateCode",props:{account:{default:""},code:{default:""},type:{default:"any"}},emits:["update:code"],setup(i,{emit:u}){const e=i,{sendCode:s,sendTime:m}=N(),t=T(0),p=setInterval(()=>t.value=m(),100);return g(()=>clearInterval(p)),(q,o)=>{const _=k,f=E,C=y,v=h("clearError");return n(),r("div",S,[F("div",j,[I(d(_,{placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",modelValue:e.code,"onUpdate:modelValue":o[0]||(o[0]=a=>e.code=a),class:"mr-1",required:"",onInput:o[1]||(o[1]=a=>u("update:code",a.target.value))},null,8,["modelValue"]),[[v,"code"]]),d(f,{disabled:t.value>0,onClick:o[2]||(o[2]=()=>U(s)(e.account,e.type)),class:"ml-1",plain:"",size:"large",shape:"circle"},{default:D(()=>[t.value>0?(n(),r("span",z,"\u8BF7"+V(t.value)+"\u540E\u64CD\u4F5C",1)):(n(),r("span",A,"\u53D1\u9001\u9A8C\u8BC1\u7801"))]),_:1},8,["disabled"])]),d(C,{name:"code"})])}}});export{M as _};

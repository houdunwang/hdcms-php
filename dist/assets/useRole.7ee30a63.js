import{h as u,r as o}from"./index.c29e1f0e.js";import{u as c}from"./element-plus.3904763a.js";import{e as i}from"./@vue.d2db270f.js";function m(t,e=1,r={}){return u.request({url:`/site/${t}/role?page=${e}&`+Object.entries(r).map(n=>n.join("=")).join("&"),method:"get"})}function p(t,e){return u.request({url:`site/${t}/role`,method:"POST",data:e})}function f(t,e){return u.request({url:`site/${t}/role/${e}`,method:"DELETE"})}function h(t,e){return u.request({url:`site/${t}/role/${e.id}`,method:"PUT",data:e})}function d(t,e){return u.request({url:`site/${t}/role/${e}`}).then(r=>r.data)}var x=()=>{const t=i(),e=i(),r=o.currentRoute.value.params.sid,n=o.currentRoute.value.params.id,s=async(a=1,l={})=>{t.value=await m(r,a,l)};return{sid:r,id:n,roles:t,role:e,del:async a=>{await c.confirm("\u786E\u8BA4\u5220\u9664\u89D2\u8272\u5417\uFF1F"),await f(r,a.id),s()},load:s,add:async a=>{await p(r,a),o.push({name:"role.index"})},update:async()=>{await h(r,e.value),o.push({name:"role.index"})},find:async a=>{e.value=await d(r,a)},current:async()=>{e.value=await d(r,n)}}};export{x as u};

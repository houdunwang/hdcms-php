import{h as S}from"./element-plus.da21f900.js";import{f as F}from"./index.41ce40d6.js";import{u as I,_ as R}from"./tab.796e744f.js";import{u as V}from"./useRole.d0faf4ff.js";import{C as $,bl as N,d as z,o,c as r,b as l,u as t,Q as u,a as d,ad as P,I as j,a5 as H,O as c,P as L,H as B,b4 as M,b3 as O}from"./@vue.ac3c99c7.js";import{_ as Q}from"./plugin-vue_export-helper.21dcd24c.js";import"./dayjs.0c888375.js";import"./@kangc.1996ede0.js";import"./vue.3a73d106.js";import"./@vueuse.bdb320bd.js";import"./@element-plus.9265bdf6.js";import"./lodash-es.e24100a0.js";import"./async-validator.6019f6c6.js";import"./@sxzz.69bffcbd.js";import"./escape-html.d3a2e952.js";import"./normalize-wheel-es.25faf228.js";import"./@ctrl.46158b0f.js";import"./vue-router.c9c8876f.js";import"./@icon-park.f131a0de.js";import"./pinia.3af4ac7f.js";import"./vue-demi.fd44cc08.js";import"./axios.af22a90f.js";/* empty css                    */import"./prismjs.80502f0c.js";import"./vee-validate.c3c37b64.js";import"./@vee-validate.898c8da1.js";import"./yup.eb539db0.js";import"./nanoclone.5d6f781b.js";import"./lodash.41eab2cc.js";import"./property-expr.8748984a.js";import"./toposort.bf2a2d8a.js";import"./tab.facc13b5.js";const T=s=>(M("data-v-40d186f2"),s=s(),O(),s),U={class:"m-2 text-gray-700 text-sm inline-flex items-center"},q=["value"],G=c(" \u4FDD\u5B58\u63D0\u4EA4 "),J={key:1,class:"flex flex-col justify-center items-center text-sm font-bold text-gray-600 !py-5"},K=T(()=>d("span",{class:"mb-2"},"\u7AD9\u70B9\u8FD8\u6CA1\u6709\u8BBE\u7F6E\u89D2\u8272",-1)),W=c(" \u8BBE\u7F6E\u89D2\u8272 "),X=$({__name:"role",async setup(s){var v,b;let _,f;const{site:k,sid:D,currentSite:w}=F(),{admin:m,setRole:C,current:E}=I(),{roles:y,load:A}=V();[_,f]=N(()=>Promise.all([w(),E(),A()])),await _,f();const n=z((b=(v=m.value)==null?void 0:v.roles.map(p=>p.id))!=null?b:[]);return(p,e)=>{var g,h;const x=S;return o(),r(u,null,[l(R,{site:t(k),admin:t(m)},null,8,["site","admin"]),(g=t(y))!=null&&g.meta.total?(o(),r(u,{key:0},[d("section",null,[(o(!0),r(u,null,P((h=t(y))==null?void 0:h.data,i=>(o(),r("label",U,[j(d("input",{type:"checkbox",class:"mr-1","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),value:i.id},null,8,q),[[H,n.value]]),c(" "+L(i.name),1)]))),256))]),l(x,{type:"primary",size:"default",onClick:e[1]||(e[1]=i=>{var a;return t(C)((a=t(m))==null?void 0:a.id,n.value)})},{default:B(()=>[G]),_:1})],64)):(o(),r("section",J,[K,l(x,{type:"primary",size:"default",onClick:e[2]||(e[2]=i=>p.$router.push({name:"role.index",params:{sid:t(D)}}))},{default:B(()=>[W]),_:1})]))],64)}}});var Ft=Q(X,[["__scopeId","data-v-40d186f2"]]);export{Ft as default};
